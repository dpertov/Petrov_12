<!DOCTYPE html>
<html>
	<head>
		<title> Array </title>
		<meta charset="utf-8">
	</head>
	<body>
		<h1> TO DO List </h1>
		
		<script>
	
			var myToDoList = {	

				todoList: [],
				
				createItem: function(text) {
								var newObject = {};
								var d = new Date();
								newObject.text = text;
								newObject.date = d.toLocaleDateString();
								newObject.id =  +Math.random().toFixed(3);
								newObject.status = false;
								
								this.todoList.push(newObject);
							},

				finalItem: function(id) {
								let i = this.todoList.findIndex(function (item) { 
									 if (item.id === id) return item;
								});
								i === -1 ? console.log('Завершать нечего') : this.todoList[i].status = true;
								console.log(myToDoList.todoList);
							},

				deleteItem: function(id) {
								let i = this.todoList.findIndex((item) => item.id === id);
								i === -1 ? console.log('Такого элемента нет') : this.todoList.splice(i,1);
								console.log(myToDoList.todoList);
							},

				changeItem: function(id, text) {
								let i = this.todoList.findIndex(item => item.id === id);
								i === -1 ? console.log('Изменять нечего') : this.todoList[i].text = text;
								console.log(myToDoList.todoList);
							},
				
				printNotFinal: function() {
								this.todoList.map(function (item) {
									if (item.status === false)  console.log(item);
									});
							}
			}
				

			myToDoList.createItem('Купить молоко');
			myToDoList.createItem('Сходить на курсы');
			myToDoList.createItem('купить сахар');
			myToDoList.createItem('Спечь пирог' );

			console.log(myToDoList.todoList);
			
				//myToDoList.deleteitem();
				//myToDoList.changeitem();
				myToDoList.finalItem();
				myToDoList.printNotFinal();
		
		</script>
	</body>
</html>